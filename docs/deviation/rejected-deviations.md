# 已拒绝的差异 (Rejected Deviations)

> **版本**: v1.0
> **更新日期**: 2026-01-04
> **用途**: 记录被拒绝的差异提案，防止重复讨论

---

## 拒绝规则

以下类型的差异提案将被自动拒绝：

1. 违反业务事实契约
2. 修改已冻结的状态机
3. 改变接口的业务语义
4. 以"代码优雅"为由牺牲一致性

---

## 已拒绝差异清单

### REJ-001: 合并订单状态提案

| 属性 | 值 |
|------|-----|
| **提案内容** | 将 state=5(待返款) 和 state=6(待确认返款) 合并为单一状态 |
| **提案理由** | 简化状态机，减少状态数量 |
| **拒绝原因** | 违反状态机锁定规则，这两个状态在原版中有明确区分的业务语义 |
| **拒绝日期** | 2026-01-04 |

---

### REJ-002: 统一提现状态命名提案

| 属性 | 值 |
|------|-----|
| **提案内容** | 将 seller_cash 和 user_cash 的 state 字段统一重命名 |
| **提案理由** | 代码复用，减少重复定义 |
| **拒绝原因** | 状态值已锁定，不得修改。可通过共享常量实现复用 |
| **拒绝日期** | 2026-01-04 |

---

### REJ-003: 废弃 is_shengji 字段提案

| 属性 | 值 |
|------|-----|
| **提案内容** | 在重构版中不再支持 is_shengji=1 的旧数据格式 |
| **提案理由** | 简化代码，旧数据可以迁移 |
| **拒绝原因** | 违反版本兼容性要求，原版明确要求兼容两种版本 |
| **拒绝日期** | 2026-01-04 |

---

### REJ-004: 重构状态机转换逻辑提案

| 属性 | 值 |
|------|-----|
| **提案内容** | 重新设计订单状态机，使其更"合理" |
| **提案理由** | 原版状态机设计有缺陷 |
| **拒绝原因** | 明确违反"禁止重构状态机"的反抖动规则 |
| **拒绝日期** | 2026-01-04 |

---

### REJ-005: 统一字段端修改权限提案

| 属性 | 值 |
|------|-----|
| **提案内容** | 将所有"后台/商家"共同可修改的字段统一为仅后台可修改 |
| **提案理由** | 简化权限控制逻辑 |
| **拒绝原因** | 违反业务事实契约，改变了原版的权限边界 |
| **拒绝日期** | 2026-01-04 |

---

## 拒绝差异模板

```markdown
### REJ-XXX: [提案标题]

| 属性 | 值 |
|------|-----|
| **提案内容** | [具体提案描述] |
| **提案理由** | [提案人的理由] |
| **拒绝原因** | [拒绝的具体原因，引用相关规则] |
| **拒绝日期** | [YYYY-MM-DD] |
```

---

## 反抖动规则回顾

以下行为被明确禁止（摘自操作指令）：

1. ❌ **禁止以命名规范为由重命名字段**
2. ❌ **禁止以字段太多为由统一字段**
3. ❌ **禁止重构状态机**
4. ❌ **禁止以代码优雅为名牺牲一致性**

**核心原则**: 先冻结业务事实 → 再修代码 → 永远不让代码反过来定义业务
